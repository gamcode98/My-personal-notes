<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">
<!-- Iconscout -->
<link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
<!-- Custom CSS -->
<link rel="stylesheet" href="./css/notes.css">
<!-- Highlight style sheet -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/atom-one-dark.min.css"
  integrity="sha512-Jk4AqjWsdSzSWCSuQTfYRIF84Rq/eV0G2+tu07byYwHcbTGfdmLrHjUSwvzp5HvbiqK4ibmNwdcG49Y5RGYPTg=="
  crossorigin="anonymous" referrerpolicy="no-referrer" />

<link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">

<title>Notes-Docker</title>
  </head>

  <body>
    <header class="header">
  <div class="header-menu">
    <a href="./index.html" class="nav-logo">Gamcode</a>
    <div class="header-btns">
      <a href="#" title="Theme" id="icon-theme">
        <i class="uil uil-moon icon-img"></i>
      </a>
      <a href="#" title="Menu" id="icon-menu">
        <i class="uil uil-apps icon-img"></i>
      </a>
    </div>
  </div>
  <nav class="nav-menu">
    <ul class="nav-items">
      <li>
        <a href="#" title="Buy me a coffee">
          <i class="uil uil-coffee icon-img"></i>
        </a>
      </li>
      <li>
        <a href="#" title="Portfolio">
          <i class="uil uil-suitcase icon-img"></i>
        </a>
      </li>
      <li>
        <a href="#" title="GitHub">
          <i class="uil uil-github icon-img"></i>
        </a>
      </li>
      <li>
        <a href="#" title="Linkedin">
          <i class="uil uil-linkedin icon-img"></i>
        </a>
      </li>
    </ul>
  </nav>
</header>
    <main>
      <section id="section-main">
        <section>
          <ul>
<li><p><strong>Notas:</strong></p>
<p>Los símbolos <strong>&lt; &gt;</strong> deben ser ignorados al escribir los comandos.</p>
<p>Cuando se coloca un <strong>pipe</strong> en medio de los símbolos <strong>&lt;&gt;</strong> significa que se puede usar una u otras opciones si es que las hubiese.</p>
</li>
</ul>
<h2 id="comandos-de-docker">Comandos de docker</h2>
<h3 id="para-usuarios-de-linux-para-poder-usar-sus-comandos-sin-usar-sudo">Para usuarios de linux, para poder usar sus comandos sin usar sudo</h3>
<p>Después de ejecutar este comando hay que reiniciar la pc.</p>
<pre><code class="language-console">sudo usermod -aG docker $USER</code></pre>
<h3 id="ver-los-contenedores-corriendo">Ver los contenedores corriendo:</h3>
<pre><code class="language-console">docker ps</code></pre>
<h3 id="ver-todos-los-contenedores-">Ver todos los contenedores :</h3>
<pre><code class="language-console">docker ps -a</code></pre>
<h3 id="inspeccionar-un-contenedor">Inspeccionar un contenedor:</h3>
<pre><code class="language-console">docker inspect &lt;ID&gt;</code></pre>
<p>También funciona con el <strong>name</strong> que es un forma mas amigable de escribir el comando</p>
<pre><code class="language-console">docker inspect &lt;name&gt;</code></pre>
<h3 id="descargar-una-imagen-de-docker-hub">Descargar una imagen de docker-hub:</h3>
<pre><code class="language-console">docker run &lt;nombre-imagen&gt;</code></pre>
<h3 id="renombrar-un-contenedor-cuando-se-descarga">Renombrar un contenedor cuando se descarga:</h3>
<pre><code class="language-console">docker run --name &lt;cualquier-nombre-aqui&gt; &lt;imagen-de-docker&gt;</code></pre>
<h3 id="renombrar-el-nombre-de-un-contenedor">Renombrar el nombre de un contenedor:</h3>
<pre><code class="language-console">docker rename &lt;nombre-anterior&gt; &lt;nombre-nuevo&gt;</code></pre>
<h3 id="eliminar-un-contenedor">Eliminar un contenedor:</h3>
<pre><code class="language-console">docker rm &lt;nombre-contenedor | ID&gt;</code></pre>
<h3 id="eliminar-todos-los-contenedores-que-están-parados">Eliminar todos los contenedores que están parados:</h3>
<pre><code class="language-console">docker container prune</code></pre>
<h3 id="para-detener-un-contenedor-que-está-corriendo">Para detener un contenedor que está corriendo:</h3>
<pre><code class="language-console">docker stop &lt;nombre-contendor | ID&gt;</code></pre>
<h3 id="eliminar-un-contenedor-aunque-esté-corriendo">Eliminar un contenedor aunque esté corriendo:</h3>
<pre><code class="language-console">docker rm -f &lt;nombre-contenedor&gt;</code></pre>
<h3 id="ingresar-con-el-modo-interactivo-en-un-contenedor">Ingresar con el modo interactivo en un contenedor:</h3>
<pre><code class="language-console">docker run -it &lt;nombre-image&gt;</code></pre>
<h3 id="correr-una-imagen-en-segundo-plano">Correr una imagen en segundo plano:</h3>
<ul>
<li>La opción <strong>-d</strong> ó <strong>--detach</strong> es lo que lo hace correr en <strong>background</strong></li>
</ul>
<pre><code class="language-console">docker run --name &lt;nuevo-nombre&gt; -d &lt;imagen&gt; tail -f /dev/null</code></pre>
<h3 id="ingresar-al-contenedor-que-está-en-segundo-plano">Ingresar al contenedor que está en segundo plano:</h3>
<pre><code class="language-console">docker exec -it &lt;nombre-contenedor&gt; bash</code></pre>
<h3 id="matar-un-contenedor-con-kill">Matar un contenedor con kill:</h3>
<pre><code class="language-console">docker inspect --format &#39;{{.State.Pid}}&#39; &lt;nombre-contenedor&gt;
#Devuelve el process id, entonces ...
kill -9 &lt;id-process&gt;</code></pre>
<h3 id="configurar-un-puerto-de-un-contenedor">Configurar un puerto de un contenedor:</h3>
<ul>
<li>Donde el primer puerto es el de la maquina anfitriona y el segundo es el del contenedor.</li>
</ul>
<pre><code class="language-console">docker run --name &lt;nombre-contenedor&gt; -d -p 8080:80 &lt;imagen&gt;</code></pre>
<h3 id="para-ver-los-logs-de-un-contenedor-que-está-corriendo-en-segundo-plano">Para ver los <strong>logs</strong> de un contenedor que está corriendo en segundo plano:</h3>
<pre><code class="language-console">docker logs &lt;nombre-contenedor&gt;
docker logs -f &lt;nombre-contenedor&gt; # -f para ver los logs en tiempo real
docker logs -f --tail 10 &lt;nombre-contenedor&gt; # para ver solo los últimos logs</code></pre>
<h2 id="redes">Redes</h2>
<h3 id="listar-redes">Listar redes</h3>
<pre><code class="language-console">docker network ls</code></pre>
<h3 id="crear-una-red-en-docker">Crear una red en docker</h3>
<pre><code class="language-console">docker network create &lt;nombre-de-red&gt;</code></pre>
<h3 id="inspeccionar-una-red">Inspeccionar una red</h3>
<pre><code class="language-console">sudo docker inspect &lt;nombre-de-red&gt;</code></pre>
<h3 id="borrar-una-red">Borrar una red</h3>
<pre><code class="language-console">docker network rm &lt;nombre-red&gt;</code></pre>
<h3 id="conectarse-a-una-red-con-una-imagen">Conectarse a una red con una imagen</h3>
<p>Primero descargar las imagenes:
<code>docker pull mongo</code> y <code>docker pull mongo-express</code></p>
<pre><code class="language-console">sudo docker run --name some-mongo -p 27017:27017 --network=&lt;nombre-red&gt; -d mongo</code></pre>
<pre><code class="language-console">docker run -d --name clientewebmongo --network=mi-red -e ME_CONFIG_MONGODB_SERVER=some-mongo -p 8081:8081 mongo-express</code></pre>
<h2 id="commits">Commits</h2>
<p>Permite crear una imagen a partir de un container</p>
<pre><code class="language-console">docker commit -m &quot;message of commit&quot; &lt;nombre-imagen&gt;</code></pre>
<h2 id="bid-mounts">Bid mounts</h2>
<p>Se comparte un directorio o ruta con un contenedor</p>
<p>Persistir datos de los contenedores en la maquina anfitriona (ejemplo usando mongo)
Se indica en donde se van a guardar los datos del contenedor (izq) y el lado (der) indica en donde se guarda los datos del contenedor.</p>
<pre><code class="language-console">docker run -d --name db -v /home/gabriel/docker-data/mongodata:/data/db mongo
</code></pre>
<h2 id="volumenes">Volumenes</h2>
<h3 id="crear-un-volumen">Crear un volumen</h3>
<pre><code class="language-console">docker volume create dbdata</code></pre>
<h3 id="listar-volumenes">Listar volumenes</h3>
<pre><code class="language-console">docker volume ls</code></pre>
<h3 id="montar-un-volumen">Montar un volumen</h3>
<p>En <strong>src</strong> se coloca el nombre del volumen que se quiere montar y en <strong>dst</strong> se coloca el path en donde se quiere montar</p>
<pre><code class="language-console">docker run -d --name db --mount src=dbdata,dst=/data/db mongo</code></pre>
<h2 id="insertar-y-extrar-archivos-de-un-contenedor">Insertar y extrar archivos de un contenedor</h2>
<h3 id="copiar-un-archivo-a-un-contenedor">Copiar un archivo a un contenedor</h3>
<p>No hace falta que el contenedor esté corriendo para poder copiar o extraer archivos del mismo.</p>
<p>Ejemplo:</p>
<pre><code class="language-console">touch prueba.txt  #se crea un archivo de prueba
docker run -d name copytest ubuntu tail -f /dev/null #se corre el contenedor
docker exec -it copytest bash #se ingresa en el contenedor
mkdir testing #se crea una carpeta dentro del contenedor
docker cp prueba.txt copytest:/testing/test.txt #se copia el archivo prueba.txt en el contenedor copytest en la carpeta testing con el nombre test.txt</code></pre>
<h3 id="extraer-una-carpeta-de-un-contenedor">Extraer una carpeta de un contenedor</h3>
<pre><code class="language-console">docker cp copytest:/testing localtesting #se copia la carpeta testing del contenedor copytest en la carpeta actual con el nombre localtesting</code></pre>
        </section>
      </section>
    </main>

    <template id="template-summary">
      <section>
        <header>
          <h1 class="neon docker">Docker</h1>
        </header>
      </section>
    </template>
    <!-- Button scroll top -->
<button class="scroll-top-btn hidden">⬆</button>
<!-- Custom JS  -->
<script src="./../js/index.js" type="module"></script>
<!-- Highlight JS -->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
  </body>
</html>
